
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Training Plan — 15 Weeks (4 Days)</title>
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#0f1115">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="icons/icon-512.png">
  <style>
    :root{ --bg:#0f1115; --card:#171a21; --text:#e8eaf0; --muted:#a8b3c3; --accent:#5ec4ff; --border:#222633; }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial}
    header{position:sticky;top:0;z-index:10;background:linear-gradient(180deg,rgba(15,17,21,.95),rgba(15,17,21,.75));backdrop-filter:saturate(150%) blur(8px);padding:12px 14px;border-bottom:1px solid var(--border)}
    h1{font-size:18px;margin:0}
    .sub{color:var(--muted);font-size:12px;margin-top:4px}
    .tabs{display:flex;gap:6px;margin:10px 14px 0 14px;overflow-x:auto;padding-bottom:6px}
    .tab{flex:0 0 auto;padding:10px 12px;border:1px solid var(--border);border-radius:10px;background:var(--card);color:var(--text);font-weight:600;font-size:13px;white-space:nowrap}
    .tab.active{outline:2px solid var(--accent)}
    main{padding:12px 14px 90px 14px}
    section{display:none}
    section.active{display:block}
    .card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:14px;margin-bottom:12px}
    label{display:inline-flex;align-items:center;gap:6px;margin:6px 8px 6px 0;font-size:14px;color:var(--muted)}
    input[type="number"]{width:90px;padding:8px;border-radius:10px;border:1px solid var(--border);background:#0b0d12;color:var(--text)}
    .row{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
    .btn{appearance:none;border:none;border-radius:10px;background:var(--accent);color:#001721;font-weight:700;padding:10px 12px;font-size:14px}
    .btn.secondary{background:#263244;color:var(--text);border:1px solid var(--border)}
    .switch{display:inline-flex;align-items:center;gap:8px;cursor:pointer;padding:6px 10px;border:1px solid var(--border);border-radius:999px;background:#0b0d12}
    .switch input{appearance:none;width:16px;height:16px;border-radius:4px;border:1px solid var(--border);margin:0;background:#12151c}
    .switch input:checked{background:var(--accent)}
    table{width:100%;border-collapse:collapse;font-size:12px;margin-top:8px}
    th,td{border-bottom:1px solid var(--border);padding:8px;text-align:center}
    th{position:sticky;top:0;background:#12151c;z-index:1}
    .small{font-size:12px;color:var(--muted)}
    ul{margin:0 0 0 18px}
    li{margin:6px 0}
    .footer{position:fixed;bottom:0;left:0;right:0;background:linear-gradient(0deg,rgba(15,17,21,.95),rgba(15,17,21,.6));backdrop-filter:blur(8px);border-top:1px solid var(--border);padding:10px 14px;display:flex;justify-content:space-between;align-items:center;gap:10px}
    .pill{border:1px solid var(--border);background:#0b0d12;border-radius:12px;padding:6px 10px;color:var(--muted);font-size:12px}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono",monospace}
    .note{color:var(--muted);font-size:12px}
  </style>
</head>
<body>
  <header>
    <h1>15‑Week Training Plan — 4 Days</h1>
    <div class="sub">Hypertrophy + Athletic Performance • offline • add to Home Screen</div>
  </header>

  <div class="tabs" id="tabs">
    <button class="tab active" data-tab="calc">Main Lifts</button>
    <button class="tab" data-tab="daily">Daily View</button>
    <button class="tab" data-tab="layout">Weekly Layout</button>
    <button class="tab" data-tab="access">Accessories</button>
    <button class="tab" data-tab="athletic">Athletic Work</button>
    <button class="tab" data-tab="testing">Testing</button>
    <button class="tab" data-tab="about">About</button>
  </div>

  <main>
    <section id="calc" class="active">
      <div class="card">
        <div class="row">
          <label>Squat 1RM <input id="sq" type="number" inputmode="decimal" placeholder="kg"></label>
          <label>Bench 1RM <input id="bp" type="number" inputmode="decimal" placeholder="kg"></label>
          <label>Deadlift 1RM <input id="dl" type="number" inputmode="decimal" placeholder="kg"></label>
          <label>OHP 1RM <input id="ohp" type="number" inputmode="decimal" placeholder="kg"></label>
        </div>
        <div class="row" style="margin-top:6px; gap:8px">
          <label class="switch"><input id="useTM" type="checkbox">Use Training Max (90%)</label>
          <label class="switch"><input id="lb" type="checkbox">Show in lb</label>
          <label class="switch"><input id="seasoned" type="checkbox">Seasoned Athlete Mode</label>
          <button class="btn" id="calcBtn">Calculate</button>
          <button class="btn secondary" id="saveBtn" title="Save values">Save</button>
          <span class="pill" id="status">Unsaved</span>
        </div>
        <div class="note" style="margin-top:6px">Seasoned mode shows <b>top set + back‑offs</b> (back‑offs at 90–95% of the prescribed %).</div>
      </div>

      <div class="card">
        <div class="row" style="justify-content:space-between">
          <div>
            <strong>Main Lifts Progression</strong>
            <div class="small">Prescriptions shown as <span class="mono">sets×reps @ %</span>. Loads auto‑calc and round to the nearest 2.5 kg (or 5 lb).</div>
          </div>
        </div>
        <div id="tableWrap"></div>
      </div>
    </section>

    
<section id="daily">
  <div class="card">
    <h3>Daily View</h3>
    <div class="row" style="gap:8px;margin-bottom:8px">
      <label>Week
        <input id="dayWeek" type="number" min="1" max="15" value="1" style="width:70px">
      </label>
      <label class="switch"><input id="seasonedDaily" type="checkbox">Seasoned Mode</label>
      <label class="switch"><input id="lbDaily" type="checkbox">Show in lb</label>
      <label>Day
        <select id="daySelect" style="padding:8px;border-radius:10px;border:1px solid var(--border);background:#0b0d12;color:var(--text)">
          <option value="Lower A">Lower A</option>
          <option value="Upper A">Upper A</option>
          <option value="Lower B">Lower B</option>
          <option value="Upper B">Upper B</option>
        </select>
      </label>
      <button class="btn" id="renderDaily">Render</button>
    </div>
    <div class="small">Shows the entire day: power/athletic primers, main lift with calculated loads, accessories with sets/reps, and any deload/testing notes. Uses your 1RMs and toggles.</div>
  </div>
  <div class="card" id="dailyOut"></div>
</section>
<section id="layout">
      <div class="card">
        <h3>Weekly Structure (4 days)</h3>
        <ul>
          <li><b>Day 1 — Lower A:</b> Power jumps → Back Squat → RDL → Split Squat/Lunge → Core. Finish with 4–6×20 m accelerations.</li>
          <li><b>Day 2 — Upper A:</b> MB Chest Pass → Bench Press → Incline DB → Row → Triceps.</li>
          <li><b>Day 3 — Lower B:</b> MB Scoop Toss → Deadlift → Front Squat/Hack → Hamstring Curl → Carries.</li>
          <li><b>Day 4 — Upper B:</b> Push‑Press (B2–3) → OHP → Pull‑ups → Lats/Upper‑back → Biceps → Low‑volume plyos.</li>
        </ul>
        <div class="small">Weeks 5 & 10 are deloads; Week 15 is testing. Accessories ~40–50% volume on deloads.</div>
      </div>
    </section>

    <section id="access">
      <div class="card">
        <h3>Accessories by Day</h3>
        <ul>
          <li><b>Lower A:</b> RDL (B1 3–4×10 @60–65% DL 1RM; B2 3×8 @65–70%; B3 2–3×6–8 @~70%), Split Squat/Lunge (DBs 25–40% SQ 1RM), Calves 2–3×12–15, Core anti‑flexion.</li>
          <li><b>Upper A:</b> Incline DB Bench 3–4×8–12 (~55–60% BP 1RM), Row 4×8–12 heavy, Triceps 2–3×10–15.</li>
          <li><b>Lower B:</b> Front Squat/Hack 3–4×6–10 @65–75%, Hamstring Curl 3–4×10–15, Carries/anti‑rotation.</li>
          <li><b>Upper B:</b> Weighted Pull‑ups 4×6–8 @70–75% 1RM or BW to 1–2 RIR, Lat/Upper‑back 3–4×10–15, Biceps 2–3×10–15.</li>
        </ul>
      </div>
    </section>

    <section id="athletic">
      <div class="card">
        <h3>Athletic Work by Block</h3>
        <ul>
          <li><b>Block 1 (W1–W4):</b> Box/CMJ 4×3; MB Chest Pass 5×3 (3–5% BW); Sprints 6×20 m; COD intro 3×2 (5‑10‑5); Plyos 2×20 pogo + 2×10 bounds.</li>
          <li><b>Week 5 Deload:</b> Mini‑tests; cut accessory volume by 40–50%.</li>
          <li><b>Block 2 (W6–W9):</b> Squat + jump contrast (20–25% 1RM); Push‑Press 5×3 @60–70% OHP 1RM; Sprints 5×30 m + flying 10s; COD 4×2 @90–95%; Plyos 20–30 contacts.</li>
          <li><b>Week 10 Deload:</b> AMRAP @70% on big lifts; 20 m sprint tests; MB scoop toss distance.</li>
          <li><b>Block 3 (W11–W14):</b> Trap‑bar/jump squats 5–6×3 @20–30% 1RM; Bench throws/MB passes 5×3; Sprints 4×30 m + flying 20s; COD 3×2 @95–100%; Plyos 12–18 contacts.</li>
          <li><b>Week 15:</b> Testing spread across the week (see Testing tab).</li>
        </ul>
      </div>
    </section>

    <section id="testing">
      <div class="card">
        <h3>Testing & Deloads</h3>
        <ul>
          <li><b>Week 5:</b> Technique singles @80% on SQ/BP/DL, cut volume ~50%. Athletic mini‑tests: Vertical Jump (best of 3), Broad Jump (best of 3), 20 m sprint ×2.</li>
          <li><b>Week 10:</b> Light work then AMRAP @70% on big 4 to estimate e1RM. Athletic checks: 20 m sprint ×2, MB scoop toss (best of 3).</li>
          <li><b>Week 15:</b> Mon SQ + VJ + Broad; Wed BP + MB pass; Fri DL + 20 m sprint; Sat OHP + 5‑10‑5. Long rests, minimal accessories.</li>
        </ul>
      </div>
    </section>

    <section id="about">
      <div class="card">
        <h3>How loads are calculated</h3>
        <p>Percentages apply to your 1RMs (or 90% Training Max). Loads round to 2.5 kg / 5 lb. Leave 1–2 RIR unless testing/AMRAP.</p>
        <p class="small">iPhone: open in Safari → Share → <b>Add to Home Screen</b>. Works offline after first load.</p>
      </div>
    </section>
  </main>

  <div class="footer">
    <span class="pill">Blocks: (1) Base • (2) Intensify • (3) Peak • (15) Test</span>
    <button class="btn" id="quickCalc">Quick Calc</button>
  </div>

  <script>
    // Plan data
    const plan = {
      SQ:[
        {w:1,s:"5×8 @65%",p:[65]},{w:2,s:"5×8 @67.5%",p:[67.5]},{w:3,s:"4×8 @70%",p:[70]},{w:4,s:"4×8 @72.5%",p:[72.5]},
        {w:5,s:"3×5 @60% + 2×1 @80%",p:[60,80]},
        {w:6,s:"5×5 @75%",p:[75]},{w:7,s:"5×4 @80%",p:[80]},{w:8,s:"6×3 @82.5%",p:[82.5]},{w:9,s:"5×3 @85%",p:[85]},
        {w:10,s:"3×3 @65% + AMRAP @70%",p:[65,70]},
        {w:11,s:"5×3 @85%",p:[85]},{w:12,s:"6×2 @87.5%",p:[87.5]},{w:13,s:"5×2 @90%",p:[90]},{w:14,s:"4×1–2 @92.5%",p:[92.5]},
        {w:15,s:"Test 1RM",p:[]}
      ],
      BP:[
        {w:1,s:"5×8 @65%",p:[65]},{w:2,s:"5×8 @67.5%",p:[67.5]},{w:3,s:"4×8 @70%",p:[70]},{w:4,s:"4×8 @72.5%",p:[72.5]},
        {w:5,s:"3×5 @60% + 2×1 @80%",p:[60,80]},
        {w:6,s:"5×5 @75%",p:[75]},{w:7,s:"5×4 @80%",p:[80]},{w:8,s:"6×3 @82.5%",p:[82.5]},{w:9,s:"5×3 @85%",p:[85]},
        {w:10,s:"3×3 @65% + AMRAP @70%",p:[65,70]},
        {w:11,s:"5×3 @85%",p:[85]},{w:12,s:"6×2 @87.5%",p:[87.5]},{w:13,s:"5×2 @90%",p:[90]},{w:14,s:"4×1–2 @92.5%",p:[92.5]},
        {w:15,s:"Test 1RM",p:[]}
      ],
      DL:[
        {w:1,s:"4×6 @70%",p:[70]},{w:2,s:"4×6 @72.5%",p:[72.5]},{w:3,s:"5×5 @75%",p:[75]},{w:4,s:"4×5 @77.5%",p:[77.5]},
        {w:5,s:"3×3 @60–65% + 2×1 @80%",p:[62.5,80]},
        {w:6,s:"5×4 @77.5%",p:[77.5]},{w:7,s:"6×3 @80%",p:[80]},{w:8,s:"5×3 @82.5%",p:[82.5]},{w:9,s:"4×3 @85%",p:[85]},
        {w:10,s:"3×2 @65% + AMRAP @70%",p:[65,70]},
        {w:11,s:"5×2–3 @85%",p:[85]},{w:12,s:"5×2 @87.5%",p:[87.5]},{w:13,s:"4×2 @90%",p:[90]},{w:14,s:"3×1–2 @92.5%",p:[92.5]},
        {w:15,s:"Test 1RM",p:[]}
      ],
      OHP:[
        {w:1,s:"4×8 @60–62.5%",p:[61.25]},{w:2,s:"4×8 @65%",p:[65]},{w:3,s:"5×6 @67.5%",p:[67.5]},{w:4,s:"4×6 @70%"},
        {w:5,s:"3×5 @55–60%",p:[57.5]},
        {w:6,s:"5×5 @70%",p:[70]},{w:7,s:"5×4 @75%",p:[75]},{w:8,s:"6×3 @77.5–80%",p:[78.75]},{w:9,s:"5×3 @82.5%",p:[82.5]},
        {w:10,s:"3×3 @60–65% + AMRAP @70%",p:[62.5,70]},
        {w:11,s:"5×3 @82.5–85%",p:[83.75]},{w:12,s:"6×2 @87.5%",p:[87.5]},{w:13,s:"5×2 @90%",p:[90]},{w:14,s:"3–4×1–2 @92.5%",p:[92.5]},
        {w:15,s:"Test 1RM",p:[]}
      ]
    };
    const lifts = ["SQ","BP","DL","OHP"];
    const names = {SQ:"Back Squat", BP:"Bench Press", DL:"Deadlift", OHP:"Overhead Press"};

    function roundLoad(x, toLb){ const step = toLb ? 5 : 2.5; return Math.round(x/step)*step; }
    function fmt(x, toLb){ return toLb ? (x*2.20462).toFixed(0) : x.toFixed(1); }

    function seasonedVariant(item){
      // For entries with a single % (straight sets), convert to Top 1 set + 3 back-offs at 90–95% load.
      if(!item.p || item.p.length!==1) return null;
      const basePct = item.p[0];
      // Determine rep scheme from display string (best-effort parse)
      const m = item.s.match(/(\d+)×(\d+)/); // e.g., 5×8
      if(!m) return null;
      const sets = parseInt(m[1],10);
      const reps = parseInt(m[2],10);
      // We'll show: Top 1×reps @ basePct, then 3×reps @ (basePct*0.925) rounded to nearest 0.5
      const boPct = Math.round(basePct*0.925*2)/2;
      return { top:{sets:1,reps:reps,p:basePct}, back:{sets:Math.min(sets-1,3),reps:reps,p:boPct} };
    }

    function calcTable(){
      const toLb = document.getElementById('lb').checked;
      let sq = parseFloat(document.getElementById('sq').value||0);
      let bp = parseFloat(document.getElementById('bp').value||0);
      let dl = parseFloat(document.getElementById('dl').value||0);
      let ohp= parseFloat(document.getElementById('ohp').value||0);
      const useTM = document.getElementById('useTM').checked;
      const useSeasoned = document.getElementById('seasoned').checked;
      if(useTM){ sq*=0.9; bp*=0.9; dl*=0.9; ohp*=0.9; }
      const oneRMs = {SQ:sq, BP:bp, DL:dl, OHP:ohp};

      let html = `<table><thead><tr><th>Week</th>`;
      lifts.forEach(L => html += `<th>${names[L]}</th>`);
      html += `</tr></thead><tbody>`;
      for(let i=0;i<15;i++){
        html += `<tr><td>${i+1}</td>`;
        lifts.forEach(L=>{
          const item = plan[L][i];
          if(useSeasoned){
            const varnt = seasonedVariant(item);
            if(varnt){
              const one = oneRMs[L]||0;
              const topLoad = roundLoad(one*varnt.top.p/100, toLb);
              const boLoad  = roundLoad(one*varnt.back.p/100, toLb);
              html += `<td>
                <div class="mono">Top ${varnt.top.sets}×${varnt.top.reps} @ ${varnt.top.p}%</div>
                <div class="small">${fmt(topLoad,toLb)}${toLb?' lb':' kg'}</div>
                <div class="mono">Back‑offs ${varnt.back.sets}×${varnt.back.reps} @ ${varnt.back.p}%</div>
                <div class="small">${fmt(boLoad,toLb)}${toLb?' lb':' kg'}</div>
              </td>`;
              return;
            }
          }
          // Default rendering
          if(!item.p || item.p.length===0){
            html += `<td><span class="mono">${item.s}</span></td>`;
          } else {
            const loads = item.p.map(p => {
              const kg = (oneRMs[L]||0) * p/100;
              const base = roundLoad(kg, toLb);
              return `${fmt(base, toLb)}${toLb?' lb':' kg'} @${p}%`;
            });
            html += `<td><div class="mono">${item.s}</div><div class="small">${loads.join(" · ")}</div></td>`;
          }
        });
        html += `</tr>`;
      }
      html += `</tbody></table>`;
      document.getElementById('tableWrap').innerHTML = html;
    }

    function saveVals(){
      const data = {
        sq: document.getElementById('sq').value,
        bp: document.getElementById('bp').value,
        dl: document.getElementById('dl').value,
        ohp: document.getElementById('ohp').value,
        lb: document.getElementById('lb').checked,
        useTM: document.getElementById('useTM').checked,
        seasoned: document.getElementById('seasoned').checked
      };
      localStorage.setItem('planVals', JSON.stringify(data));
      document.getElementById('status').textContent = 'Saved';
    }
    function loadVals(){
      const raw = localStorage.getItem('planVals'); if(!raw) return;
      try{
        const d = JSON.parse(raw);
        if(d.sq) document.getElementById('sq').value = d.sq;
        if(d.bp) document.getElementById('bp').value = d.bp;
        if(d.dl) document.getElementById('dl').value = d.dl;
        if(d.ohp) document.getElementById('ohp').value = d.ohp;
        if(typeof d.lb==='boolean') document.getElementById('lb').checked = d.lb;
        if(typeof d.useTM==='boolean') document.getElementById('useTM').checked = d.useTM;
        if(typeof d.seasoned==='boolean') document.getElementById('seasoned').checked = d.seasoned;
        document.getElementById('status').textContent = 'Loaded';
      }catch(e){}
    }

    document.querySelectorAll('.tab').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        document.querySelectorAll('.tab').forEach(b=>b.classList.remove('active'));
        document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById(btn.dataset.tab).classList.add('active');
      });
    });
    document.getElementById('calcBtn').addEventListener('click', calcTable);
    document.getElementById('saveBtn').addEventListener('click', saveVals);
    document.getElementById('quickCalc').addEventListener('click', ()=>{
      if(!document.getElementById('sq').value){ document.getElementById('sq').value = 140; }
      if(!document.getElementById('bp').value){ document.getElementById('bp').value = 100; }
      if(!document.getElementById('dl').value){ document.getElementById('dl').value = 180; }
      if(!document.getElementById('ohp').value){ document.getElementById('ohp').value = 60; }
      calcTable();
    });
    if('serviceWorker' in navigator){
      window.addEventListener('load', ()=>{
        navigator.serviceWorker.register('./service-worker.js');
      });
    }
    loadVals();
    calcTable();
  
// ===== Daily View Helpers =====
function getBlock(week){
  if(week>=1 && week<=4) return 1;
  if(week===5) return 'deload5';
  if(week>=6 && week<=9) return 2;
  if(week===10) return 'deload10';
  if(week>=11 && week<=14) return 3;
  if(week===15) return 'test15';
  return 1;
}
function pctLoadsForWeek(liftKey, week, oneRMs, toLb, seasoned){
  const item = plan[liftKey][week-1];
  if(seasoned){
    const v = (function(item){
      if(!item.p || item.p.length!==1) return null;
      const m = item.s.match(/(\d+)×(\d+)/);
      if(!m) return null;
      const reps = parseInt(m[2],10);
      const basePct = item.p[0];
      const boPct = Math.round(basePct*0.925*2)/2;
      return { mode:'seasoned', top:{reps,p:basePct}, back:{sets:3,reps,p:boPct} };
    })(item);
    if(v){
      const one = oneRMs[liftKey]||0;
      const top = roundLoad(one*v.top.p/100, toLb);
      const bo  = roundLoad(one*v.back.p/100, toLb);
      return {text:item.s, variant:v, loads:{top:fmt(top,toLb), bo:fmt(bo,toLb), unit: toLb?'lb':'kg' }};
    }
  }
  // default
  const loads = (item.p||[]).map(p=>{
    const kg = (oneRMs[liftKey]||0)*p/100;
    const r = roundLoad(kg,toLb);
    return `${fmt(r,toLb)} ${toLb?'lb':'kg'} @${p}%`;
  });
  return {text:item.s, loads, unit: toLb?'lb':'kg'};
}
function renderDaily(){
  const week = Math.max(1, Math.min(15, parseInt(document.getElementById('dayWeek').value||1)));
  const day = document.getElementById('daySelect').value;
  // Use same 1RM inputs and toggles from main calc
  const toLb = document.getElementById('lbDaily').checked || document.getElementById('lb').checked;
  const seasoned = document.getElementById('seasonedDaily').checked || document.getElementById('seasoned').checked;
  let sq = parseFloat(document.getElementById('sq').value||0);
  let bp = parseFloat(document.getElementById('bp').value||0);
  let dl = parseFloat(document.getElementById('dl').value||0);
  let ohp= parseFloat(document.getElementById('ohp').value||0);
  const useTM = document.getElementById('useTM').checked;
  if(useTM){ sq*=0.9; bp*=0.9; dl*=0.9; ohp*=0.9; }
  const oneRMs = {SQ:sq, BP:bp, DL:dl, OHP:ohp};

  const block = getBlock(week);
  let out = `<div class="small">Week ${week} • ${typeof block==='number'?'Block '+block:block}</div>`;
  out += `<h4 style="margin:8px 0">${day}</h4>`;

  // Power/Athletic primer + Main lift + Accessories definition
  function list(items){
    return '<ul>'+items.map(x=>`<li>${x}</li>`).join('')+'</ul>';
  }

  if(day === 'Lower A'){
    // Power primer
    if(block===1) out += '<h5>Power</h5>'+list(['Box/CMJ Jumps — 4×3 (full reset)']);
    if(block===2) out += '<h5>Power</h5>'+list(['Contrast: after each squat set → 2–3 squat jumps @20–25% SQ 1RM']);
    if(block===3) out += '<h5>Power</h5>'+list(['Jump Squats or Trap‑bar Jumps — 5–6×3 @20–30% 1RM']);
    // Main lift (SQ)
    const sqLoads = pctLoadsForWeek('SQ', week, oneRMs, toLb, seasoned);
    out += `<h5>Main Lift — Back Squat</h5><div class="mono">${sqLoads.text}</div>`;
    if(sqLoads.variant){
      out += list([`Top: ${sqLoads.variant.top.reps} reps @ ${sqLoads.variant.top.p}% → <b>${sqLoads.loads.top} ${sqLoads.loads.unit}</b>`,
                   `Back‑offs: ${sqLoads.variant.back.sets}×${sqLoads.variant.back.reps} @ ${sqLoads.variant.back.p}% → <b>${sqLoads.loads.bo} ${sqLoads.loads.unit}</b>`]);
    } else if (sqLoads.loads && sqLoads.loads.length){
      out += list(sqLoads.loads);
    }
    // Accessories
    if(block==1) out += '<h5>Accessories</h5>'+list(['RDL — 3–4×10 @60–65% DL 1RM','Split Squat/Lunge — 3×12/leg (DBs 25–35% SQ 1RM)','Calves — 2–3×12–15','Core anti‑flexion — 3 rounds']);
    if(block==2) out += '<h5>Accessories</h5>'+list(['RDL — 3×8 @65–70% DL 1RM','Front‑foot Elevated Split Squat — 3×8/leg (DBs 30–40% SQ 1RM)','Calves — 2–3×12–15','Core anti‑flexion — 3 rounds']);
    if(block==3) out += '<h5>Accessories</h5>'+list(['RDL — 2–3×6–8 @~70% DL 1RM','Split Squat/Lunge — 3×6–8/leg','Calves — 2–3×10–12','Core anti‑flexion — 2–3 rounds']);
    // Athletic finisher
    if(block in [1,2,3]) out += '<h5>Finisher</h5>'+list(['Accelerations — 4–6×20 m (2:00 rest) or pogos/bounds (low contacts)']);
  }
  if(day === 'Upper A'){
    // Power
    out += '<h5>Power</h5>'+list(['Med‑Ball Chest Pass — 5×3 (ball 3–5% body mass)']);
    // Main lift (BP)
    const bpLoads = pctLoadsForWeek('BP', week, oneRMs, toLb, seasoned);
    out += `<h5>Main Lift — Bench Press</h5><div class="mono">${bpLoads.text}</div>`;
    if(bpLoads.variant){
      out += list([`Top: ${bpLoads.variant.top.reps} reps @ ${bpLoads.variant.top.p}% → <b>${bpLoads.loads.top} ${bpLoads.loads.unit}</b>`,
                   `Back‑offs: ${bpLoads.variant.back.sets}×${bpLoads.variant.back.reps} @ ${bpLoads.variant.back.p}% → <b>${bpLoads.loads.bo} ${bpLoads.loads.unit}</b>`]);
    } else if (bpLoads.loads && bpLoads.loads.length){
      out += list(bpLoads.loads);
    }
    // Accessories
    out += '<h5>Accessories</h5>'+list(['Incline DB Bench — 3–4×8–12 (~55–60% BP 1RM)','Row — 4×8–12 heavy','Triceps — 2–3×10–15']);
  }
  if(day === 'Lower B'){
    // Power
    out += '<h5>Power</h5>'+list(['Med‑Ball Scoop Toss — 4×3 (ball 3–5% body mass)']);
    // Main lift (DL)
    const dlLoads = pctLoadsForWeek('DL', week, oneRMs, toLb, seasoned);
    out += `<h5>Main Lift — Deadlift</h5><div class="mono">${dlLoads.text}</div>`;
    if(dlLoads.variant){
      out += list([`Top: ${dlLoads.variant.top.reps} reps @ ${dlLoads.variant.top.p}% → <b>${dlLoads.loads.top} ${dlLoads.loads.unit}</b>`,
                   `Back‑offs: ${dlLoads.variant.back.sets}×${dlLoads.variant.back.reps} @ ${dlLoads.variant.back.p}% → <b>${dlLoads.loads.bo} ${dlLoads.loads.unit}</b>`]);
    } else if (dlLoads.loads && dlLoads.loads.length){
      out += list(dlLoads.loads);
    }
    // Accessories
    out += '<h5>Accessories</h5>'+list(['Front Squat or Hack Squat — 3–4×6–10 @65–75%','Hamstring Curl — 3–4×10–15','Carries / Core anti‑rotation — 3 rounds']);
    // Athletic/COD
    if(block==1) out += '<h5>Speed/COD</h5>'+list(['COD Intro — 3×2 of 5‑10‑5 @ sub‑max']);
    if(block==2) out += '<h5>Speed/COD</h5>'+list(['COD — 4×2 of 5‑10‑5 @ 90–95%']);
    if(block==3) out += '<h5>Speed/COD</h5>'+list(['COD — 3×2 of 5‑10‑5 @ 95–100% (only if joints feel great)']);
  }
  if(day === 'Upper B'){
    // Power
    if(block==1) out += '<h5>Power</h5>'+list(['(Optional) Light MB work or push power 3×3']);
    if(block in [2,3]) out += '<h5>Power</h5>'+list(['Push‑Press — 5×3 @60–70% OHP 1RM']);
    // Main lift (OHP)
    const ohpLoads = pctLoadsForWeek('OHP', week, oneRMs, toLb, seasoned);
    out += `<h5>Main Lift — Overhead Press</h5><div class="mono">${ohpLoads.text}</div>`;
    if(ohpLoads.variant){
      out += list([`Top: ${ohpLoads.variant.top.reps} reps @ ${ohpLoads.variant.top.p}% → <b>${ohpLoads.loads.top} ${ohpLoads.loads.unit}</b>`,
                   `Back‑offs: ${ohpLoads.variant.back.sets}×${ohpLoads.variant.back.reps} @ ${ohpLoads.variant.back.p}% → <b>${ohpLoads.loads.bo} ${ohpLoads.loads.unit}</b>`]);
    } else if (ohpLoads.loads && ohpLoads.loads.length){
      out += list(ohpLoads.loads);
    }
    // Accessories
    out += '<h5>Accessories</h5>'+list(['Weighted Pull‑ups — 4×6–8 @70–75% 1RM or BW to 1–2 RIR','Lat/Upper‑back Pulls — 3–4×10–15','Biceps — 2–3×10–15']);
    // Plyos finisher
    out += '<h5>Plyos</h5>'+list(['Bounds / Pogo / Hurdle hops — low contacts (quality over quantity)']);
  }

  // Deload or Testing notes overlay
  if(block==='deload5'){
    out += '<div class="pill" style="margin-top:8px">Week 5 — Deload</div>';
    out += '<div class="small">Cut accessory volume by 40–50%. Do technique singles as written; log mini-tests.</div>';
  }
  if(block==='deload10'){
    out += '<div class="pill" style="margin-top:8px">Week 10 — Deload + AMRAPs</div>';
    out += '<div class="small">Perform AMRAP @70% for big lifts this week to estimate e1RM.</div>';
  }
  if(block==='test15'){
    out += '<div class="pill" style="margin-top:8px">Week 15 — Testing</div>';
    out += '<div class="small">Follow testing schedule and keep accessories minimal.</div>';
  }

  document.getElementById('dailyOut').innerHTML = out;
}

// Wire Daily View button
document.getElementById('renderDaily').addEventListener('click', renderDaily);
// Auto-render on open
renderDaily();

</script>
</body>
</html>
